# 逗子ライブインクルーシブ Webサイトリプレース 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
逗子ライブインクルーシブ 公式Webサイト リプレース

### 1.2 背景・目的
障がい者アーティストとトップアーティストが共演するインクルーシブなコンサート「逗子ライブインクルーシブ」の公式サイトを、現代的な技術スタックで再構築する。

### 1.3 リプレースの目的
- **デザイン完全刷新**: 新しいビジュアルデザインで、より洗練された体験を提供
- **コード品質改善**: 保守性・拡張性の高いコードベースへ
- **パフォーマンス改善**: 表示速度・SEOの最適化

---

## 2. ステークホルダー

| 役割 | 担当 | 責任範囲 |
|------|------|----------|
| 実行委員長 | 宮澤久美 | 最終承認、コンテンツ確認 |
| プロデューサー | 坂本淳 | イベント情報提供 |
| 開発者 | - | 設計・実装・デプロイ |

---

## 3. 機能要件

### 3.1 ページ構成

| ページ | URL | 概要 | 状態 |
|--------|-----|------|------|
| トップページ | `/` | イベント概要、日程、ハイライト | ✅ 完了 |
| 出演者一覧 | `/performers` | 出演アーティスト一覧 | ✅ 完了 |
| 出演者詳細 | `/performers/[id]` | 出演アーティスト詳細 | ✅ 完了 |
| チケット | `/tickets` | チケット情報・購入導線 | ✅ 完了 |
| 会場 | `/venue` | 会場情報・アクセス・バリアフリー情報 | ✅ 完了 |
| 過去公演 | `/archive` | 過去の公演アーカイブ | ✅ 完了 |
| ニュース一覧 | `/news` | お知らせ・ニュース一覧 | ✅ 完了 |
| ニュース詳細 | `/news/[id]` | お知らせ・ニュース詳細 | ✅ 完了 |
| お問い合わせ | `/contact` | お問い合わせフォーム | ✅ 完了 |

### 3.2 機能一覧

#### 3.2.1 コンテンツ表示
- [x] イベント基本情報の表示（日時、会場、料金）
- [x] 出演者情報の表示（TypeScriptファイルで管理）
- [x] チケット情報・購入リンク
- [x] 会場情報・Googleマップ埋め込み
- [x] 過去公演のギャラリー・動画埋め込み
- [x] SNSリンク（Instagram, YouTube）
- [x] ニュース・お知らせ（MicroCMSで管理）

#### 3.2.2 インタラクション
- [x] お問い合わせフォーム（Cloudflare Workers + Resend + LINE通知）
- [x] レスポンシブナビゲーション
- [x] スムーズスクロール

#### 3.2.3 外部連携
- [x] クラウドファンディング（CAMPFIRE）リンク
- [x] Instagram埋め込み
- [ ] Google Analytics（未実装）

### 3.3 コンテンツ管理

#### MicroCMSで管理
- お知らせ・ニュース（title, date, content, category）

#### TypeScriptファイルで管理（`src/data/`）
- 出演者情報（`performers.ts`）
- イベント情報（`event.ts`）
- サイト設定（`site.ts`）
- 過去公演アーカイブ（`archive.ts`）

---

## 4. 非機能要件

### 4.1 パフォーマンス
| 指標 | 目標値 |
|------|--------|
| Lighthouse Performance | 90以上 |
| First Contentful Paint | 1.5秒以下 |
| Largest Contentful Paint | 2.5秒以下 |
| Cumulative Layout Shift | 0.1以下 |

### 4.2 アクセシビリティ（WCAG 2.1 AA準拠）
- [x] 適切なセマンティックHTML
- [x] キーボードナビゲーション対応
- [x] スクリーンリーダー対応（ARIA属性）
- [x] 十分なコントラスト比（4.5:1以上）
- [x] フォーカス表示の明確化
- [x] 画像への代替テキスト
- [x] フォームのラベル・エラー表示
- [ ] 動画への字幕対応（該当する場合）

### 4.3 SEO
- [x] 適切なメタタグ（title, description, OGP）
- [x] 構造化データ（JSON-LD）
- [x] sitemap.xml（Next.js自動生成）
- [x] robots.txt（Next.js自動生成）
- [x] canonical URL

### 4.4 セキュリティ
- [x] HTTPS必須（Vercel標準）
- [x] 環境変数によるシークレット管理
- [x] フォーム入力のサニタイズ（Zod）
- [ ] CSP（Content Security Policy）設定

### 4.5 ブラウザ対応
| ブラウザ | バージョン |
|----------|------------|
| Chrome | 最新2バージョン |
| Firefox | 最新2バージョン |
| Safari | 最新2バージョン |
| Edge | 最新2バージョン |
| iOS Safari | 最新2バージョン |
| Android Chrome | 最新2バージョン |

### 4.6 レスポンシブ対応
| デバイス | ブレークポイント |
|----------|------------------|
| Mobile | ~767px |
| Tablet | 768px~1023px |
| Desktop | 1024px~ |

---

## 5. 技術スタック

### 5.1 フロントエンド
| 項目 | 技術 |
|------|------|
| フレームワーク | Next.js 16 (App Router) |
| 言語 | TypeScript |
| スタイリング | Tailwind CSS |
| 画像最適化 | Next.js Image（自動WebP変換） |

### 5.2 CMS・バックエンド
| 項目 | 技術 |
|------|------|
| Headless CMS | MicroCMS（ニュース管理） |
| お問い合わせAPI | Cloudflare Workers + Hono.js |
| メール送信 | Resend |
| LINE通知 | LINE Messaging API |

### 5.3 インフラ
| 項目 | 技術 |
|------|------|
| フロントエンド | Vercel |
| API | Cloudflare Workers |
| ドメイン | zushiliveinclusive.com |
| CI/CD | Vercel自動デプロイ + GitHub Flow |

### 5.4 開発ツール
| 項目 | 技術 |
|------|------|
| パッケージマネージャー | npm |
| リンター | ESLint |
| 型チェック | TypeScript strict mode |
| バージョン管理 | GitHub（ブランチ保護ルール付き） |

---

## 6. 制約事項

- 既存ドメイン（zushiliveinclusive.com）を継続使用
- MicroCMS無料プランの制限を考慮（API 10,000リクエスト/月）
- Vercel無料プランの制限を考慮
- Cloudflare Workers無料プランの制限を考慮（100,000リクエスト/日）
- Resend無料プランの制限を考慮（3,000通/月）

---

## 7. 成功指標

| 指標 | 目標 | 現状 |
|------|------|------|
| Lighthouse Performance | 90以上 | 96 ✅ |
| Lighthouse Accessibility | 90以上 | 92 ✅ |
| Lighthouse Best Practices | 90以上 | 73 ⚠️（サードパーティCookie） |
| Lighthouse SEO | 90以上 | 100 ✅ |
| ページ読み込み速度 | 3秒以内 | 1.3秒 ✅ |

---

## 8. 今後の検討事項

- チケット予約システム連携
- 多言語対応（英語）
- ライブ配信機能
- 会員機能
- Google Analytics導入
- CSP設定

---

## 改訂履歴

| 日付 | バージョン | 変更内容 |
|------|------------|----------|
| 2024-12-04 | 1.0 | 初版作成 |
| 2024-12-09 | 1.1 | 実装状況を反映、技術スタック更新 |
